# Hand Gesture Recognition

---

> ملحوظة: كل ما هو قادم يمكن تغييره او الاستغناء عن جزء منه او تغيير فلسفة المشروع بالكامل اذا لزم الامر 

---

# 1. فتح الكاميرا وقراءة الفريمات (Open Camera & Read Frames)

**الهدف**

الحصول على فيديو لحظي من الكاميرا يعمل داخل حلقة مستمرة.

**الفكرة**

* نستخدم `VideoCapture` لفتح الكاميرا.
* نقرأ كل Frame داخل Loop.
* الفريمات هي المدخل لكل الخوارزميات التالية.
* لو فيه dropped frames أو lag لازم نعمل check.

---

# 2. تحويل الفريم إلى HSV Color Space

**الهدف**

تهيئة الصورة بحيث يسهل فصل لون الجلد.

**ليه HSV؟**

في RGB اللون والسطوع متداخلين، لكن في HSV:

* **Hue** = اللون
* **Saturation** = تشبع اللون
* **Value** = الإضاءة

ده بيخلي Range لون الجلد ثابت نسبيًا مهما كانت الإضاءة.

---

# 3. تطبيق Threshold على مناطق الجلد (Skin Masking)

**الهدف**

استخراج مناطق الجلد فقط.

**الفكرة**

* تحديد Range لقيم H/S/V التي تمثل لون الجلد.
* استخدام `inRange` لتحويل الصورة إلى Mask.

**النتيجة**

* الأبيض = جلد
* الأسود = خلفية

---

# 4. تنظيف الـ Mask بواسطة Morphological Operations

**الهدف**

إزالة النويز وغلق الفتحات الصغيرة داخل الماسك.

**العمليات**

* **Opening** → إزالة نقاط صغيرة (noise)
* **Closing** → غلق فجوات صغيرة داخل الماسك

---

# 5. استخراج الـ Contours

**الهدف**

الحصول على الحدود الخارجية لمناطق الجلد.

**الفكرة**

`findContours` تبحث عن أشكال مغلقة، كل contour عبارة عن مجموعة نقاط تمثل حدود الشكل.

---

# 6. اختيار أكبر Contour (Largest Object Filter)

**الهدف**

عزل اليد وتجاهل باقي الأشكال.

**المنطق**

* اليد غالبًا أكبر مساحة.
* نحسب مساحة كل contour باستخدام `contourArea`.
* نختار الأكبر.

---

# 7. حساب الـ Convex Hull

**الهدف**

إنشاء غلاف خارجي محكم حول اليد.

**الفكرة**

الهول يربط نقاط اليد الخارجية كأنه مطاط مشدود، ويزيل الفراغات بين الأصابع.

---

# 8. حساب الـ Convexity Defects

**الهدف**

اكتشاف الفواصل بين الأصابع.

**الفكرة**

* كل defect يمثل فجوة بين إصبعين.

**النتيجة**

* يد مقفولة → defects قليل
* يد مفتوحة → defects كثير

---

# 9. تقييم عدد الـ Defects لتحديد حركة اليد

**الهدف**

تحويل شكل اليد إلى حركة (Open / Closed Hand).

**الفكرة**

* أقل من حد معين → اليد مقفولة.
* أكبر من الحد → اليد مفتوحة.

---

# 10. تنفيذ الأكشن المطلوب عند إغلاق اليد

**أمثلة:**

* تغيير لون الخلفية.
* تشغيل زوم.

> يجب أن ينفذ الأكشن مرة واحدة فقط عند تغير الحالة.

---

# 11. إضافة Delay (Debouncing)

**الفكرة**

منع تكرار الأكشن بسبب اهتزاز اليد.

* بعد اكتشاف Gesture → ننتظر نصف ثانية قبل السماح بجديدة.

---

# 12. عرض الفريم النهائي بالرسم والتوضيح

**يشمل:**

* contour
* hull
* defects
* نص "Open Hand" أو "Closed Hand"

يساعد جدًا في الـ Debug.

---

# Algorithm Files Checklist

1. `angle_between.py`
2. `draw_ROI.py`
3. `skin_detection.py`
4. `noise_removal.py`
5. `find_contours.py`
6. `find_hand_contour.py`
7. `draw_convex_hull.py`
8. `compute_convexity_defects.py`
9. `count_finger_defects.py`
10. `hand_state.py`
11. `draw_contour.py`
12. `show_label.py`
13. `small_preview_windows.py`
14. `Convert_to_PIL.py`

---

> Proposed Gui: **Tkinter**

---
